server {
    
    listen       443 ssl;

    server_name         unixjs.com;
    ssl_certificate     /home/joseluis/Documents/Developments/unixjs/etc/ssl/unixjs.com.crt;
    ssl_certificate_key /home/joseluis/Documents/Developments/unixjs/etc/ssl/unxijs.com.key;

    charset utf-8;  

    set $unixjs /home/joseluis/Documents/Developments/unixjs;
    
    root   $unixjs/share;

    #reset to on in producction deployment
    lua_code_cache off;

    location / {
        index unixjs.html;
    }
    
    location /bin {
        alias $unixjs/bin;
    }

    location /boot {
        alias $unixjs/boot;
    }
    
    location /lib {
        alias $unixjs/lib;
    }
    
    location /upload/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/upload.lua;
    }

    location /session/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/contrib/session.lua;
    }

    location /media/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/media.lua;
    }

    location /gcontrol/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/gcontrol.lua;
    }

    location /gapprole/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/gapprole.lua;
    }

    location /ggroups/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/ggroups.lua;
    }

    location /gusers/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/gusers.lua;
    }

    location /gusersgroups/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/gusersgroups.lua;
    }

    location /cuentas/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/cuentas.lua;
    }

    location /cedeg/ {
        set $app = $unixjs/sbin;
        content_by_lua_file $app/cedeg.lua;
    }
}

