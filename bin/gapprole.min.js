gapprole=(function(){var a;function b(){Gwt.Gui.Window.call(this,"App Y Grupo");this.SetSize(256,256);this.SetPosition(Gwt.Gui.WIN_POS_CENTER);this.SetBorderSpacing(12);this.Rpc=new Gwt.Core.Rpc("/gapprole/");this.AddMenuItem(Gwt.Core.Contrib.Images+"appbar.cabinet.in.svg","Guardar",this.Insert.bind(this));this.AddMenuItem(Gwt.Core.Contrib.Images+"appbar.refresh.svg","Actualizar",this.Update.bind(this));this.AddMenuItem(Gwt.Core.Contrib.Images+"appbar.delete.svg","Eliminar",this.Delete.bind(this));this.AddMenuItem(Gwt.Core.Contrib.Images+"appbar.power.svg","Salir",function(){window.gcontrol.open()},Gwt.Gui.MENU_QUIT_APP);this.Layout=new Gwt.Gui.VBox();this.Layout.SetAlignment(Gwt.Gui.ALIGN_CENTER);this.SetLayout(this.Layout);this.Name=new Gwt.Gui.IconEntry(Gwt.Core.Contrib.Images+"appbar.console.svg","Nombre Del App");this.Name.SetTabIndex(1);this.Name.AddEvent(Gwt.Gui.Event.Keyboard.KeyPress,this.Select.bind(this));this.Image=new Gwt.Gui.IconEntry(Gwt.Core.Contrib.Images+"appbar.image.svg","Nombre De Imagen");this.Image.SetTabIndex(2);this.Label=new Gwt.Gui.IconEntry(Gwt.Core.Contrib.Images+"appbar.closedcaption.svg","Etiqueta");this.Label.SetTabIndex(3);this.Group=new Gwt.Gui.IconEntry(Gwt.Core.Contrib.Images+"appbar.group.svg","Grupo");this.Group.SetTabIndex(4);this.Layout.Add(this.Name);this.Layout.Add(this.Image);this.Layout.Add(this.Label);this.Layout.Add(this.Group)}b.prototype=new Gwt.Gui.Window();b.prototype.constructor=b;b.prototype._App=function(){this.Image._IconEntry();this.Label._IconEntry();this.Name._IconEntry();this.Group._IconEntry();this.Layout._VBox();this.Image=null;this.Label=null;this.Name=null;this.Group=null;this.Layout=null};b.prototype.Select=function(c){if(c.keyCode===Gwt.Gui.Event.Keyboard.KeyCodes.Enter){this.Rpc.Send({Method:"Select",Name:this.Name.GetText()},this.SelectResponse.bind(this))}};b.prototype.SelectResponse=function(c){if(c.length>0){this.Image.SetText(c[0].Image);this.Label.SetText(c[0].Label);this.Group.SetText(c[0].Group)}else{this.Reset()}};b.prototype.Insert=function(){var c={Method:"Insert",Name:this.Name.GetText(),Image:this.Image.GetText(),Label:this.Label.GetText(),Group:this.Group.GetText()};this.Rpc.Send(c,this.InsertResponse.bind(this))};b.prototype.InsertResponse=function(c){if(c.affected_rows===1){this.Reset()}else{if(c.Error){console.log(c.Error)}}};b.prototype.Update=function(){var c={Method:"Update",Name:this.Name.GetText(),Image:this.Image.GetText(),Label:this.Label.GetText(),Group:this.Group.GetText()};this.Rpc.Send(c,this.UpdateResponse.bind(this))};b.prototype.UpdateResponse=function(c){if(c.affected_rows===1){this.Reset()}};b.prototype.Delete=function(c){this.Rpc.Send({Method:"Delete",Name:this.Name.GetText()},this.DeleteResponse.bind(this))};b.prototype.DeleteResponse=function(c){if(c.affected_rows===1){this.Reset()}};b.prototype.Reset=function(){this.Image.SetText("");this.Label.SetText("");this.Name.SetText("");this.Group.SetText("")};return new function(){this.open=function(){if(a===undefined){a=new b();a.Open()}else{console.log("%app open".replace("%app",a.__proto__.constructor.name))}};this.close=function(){if(a!==undefined){a.Close();a=undefined}}}})();