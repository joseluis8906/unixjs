gcompany=(function(){var a;function b(){Gwt.Gui.Window.call(this,"Información de la Empresa");this.SetSize(512,256);this.SetPosition(Gwt.Gui.WIN_POS_CENTER);this.SetBorderSpacing(12);this.Rpc=new Gwt.Core.Rpc("/accountingcompany/");this.EnableMenu();this.AddMenuItem(Gwt.Core.Contrib.Images+"appbar.cabinet.in.svg","Guardar",this.Insert.bind(this));this.AddMenuItem(Gwt.Core.Contrib.Images+"appbar.refresh.svg","Actualizar",this.Update.bind(this));this.AddMenuItem(Gwt.Core.Contrib.Images+"appbar.power.svg","Salir",function(){window.gcontrol.open()},Gwt.Gui.MENU_QUIT_APP);this.nit=new Gwt.Gui.Entry("Nit");this.nit.AddEvent(Gwt.Gui.Event.Keyboard.KeyUp,this.Select.bind(this));this.name=new Gwt.Gui.Entry("Nombre");this.phone=new Gwt.Gui.Entry("Teléfono");this.movil=new Gwt.Gui.Entry("Celular");this.address=new Gwt.Gui.Entry("Dirección");this.layout=new Gwt.Gui.VBox();this.SetLayout(this.layout);this.layout.Add(this.nit);this.layout.Add(this.name);this.layout.Add(this.phone);this.layout.Add(this.movil);this.layout.Add(this.address)}b.prototype=new Gwt.Gui.Window();b.prototype.constructor=b;b.prototype._App=function(){this.nit._Entry();this.name._Entry();this.phone._Entry();this.movil._Entry();this.address._Entry();this.layout._VBox();this.nit=null;this.name=null;this.phone=null;this.movil=null;this.address=null;this.layout=null};b.prototype.Select=function(c){if(c.keyCode===Gwt.Gui.Event.Keyboard.KeyCodes.Enter){this.Rpc.Send({Method:"Select",Nit:this.nit.GetText()},this.SelectResponse.bind(this))}};b.prototype.SelectResponse=function(c){if(c.length>0){this.name.SetText(c[0].Name);this.phone.SetText(c[0].Phone);this.movil.SetText(c[0].Movil);this.address.SetText(c[0].Address)}else{this.Reset()}};b.prototype.Insert=function(c){this.Rpc.Send({Method:"Insert",Nit:this.nit.GetText(),Name:this.name.GetText(),Phone:this.phone.GetText(),Movil:this.movil.GetText(),Address:this.address.GetText()},this.InsertResponse.bind(this))};b.prototype.InsertResponse=function(c){if(c.affected_rows===1){this.Reset()}};b.prototype.Update=function(c){this.Rpc.Send({Method:"Update",Nit:this.nit.GetText(),Name:this.name.GetText(),Phone:this.phone.GetText(),Movil:this.movil.GetText(),Address:this.address.GetText()},this.UpdateResponse.bind(this))};b.prototype.UpdateResponse=function(c){if(c.affected_rows===1){this.Reset()}};b.prototype.Reset=function(){this.nit.SetText("");this.name.SetText("");this.phone.SetText("");this.movil.SetText("");this.address.SetText("")};return new function(){this.open=function(){if(a===undefined){a=new b();a.Open()}else{console.log("%app yet opened".replace("%app",a.__proto__.constructor.name))}};this.close=function(){if(a!==undefined){a.Close();a=undefined}}}})();